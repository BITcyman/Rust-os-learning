## 跨操作系统的异步驱动模块设计与实现

#### 一、  毕业设计主要研究内容、进展情况及取得成果

##### 主要研究内容

本研究主要针对星光二开发板上的硬件资源（串口、网卡等），开发在AlienOS、ArceOS中都能使用的异步硬件驱动模块。

##### 进展情况及取得成果

+ 目前对 Rust Future 以及 已有的一些驱动程序 进行了一定的学习
+ 从 rCore-N 中移出了一个异步串口驱动，能够在 rCore-N 中运行
+ 学习了 星光二 上的 PAC 和 HAL 以及 Embassy 中的异步运行时



#### 二、存在的问题和拟解决方案

+ 移出的异步串口驱动在异步运行时的设计上还有问题，效率上并没有提升
    + 改进异步串口驱动的异步实现，使用 Embassy 的运行时
+ 移出的异步串口驱动还没有适配 Alien 和 ArceOS
    + 抓紧摸清楚相关操作系统的架构
+ 星光板只有一块，供三位同学使用可能周转不过来
    + 先推进OS内核赛初赛，通过初赛 50% 的测试用例后可以让组委会邮寄星光板

#### 三、下一步研究任务和进度安排

研究任务：

+ 完成异步串口驱动模块，在 vf2 上支持 AlienOS 和 ArceOS
+ 完成异步网卡驱动模块，在 vf2 上支持 AlienOS 、ArceOS 和 Linux

进度安排：

+ 4.10 - 4.16：完成 Qemu 下异步串口的所有工作
    + 4.10 - 4.11： 完成异步串口驱动的异步运行时改造 
    + 4.12：在 Qemu 中完成异步串口驱动对 Alien 的适配
    + 4.13 - 4.14：在 Qemu 中完成异步串口驱动对 ArceOS 的适配
    + 4.15：Qemu 环境下测试异步串口驱动性能
    + 4.16：机动日
+ 4.17 - 4.23：上板测试
    + 4.17 - 4.18：上板测试异步串口驱动
    + 4.19 - 4.21：板子上能干活的异步网卡驱动 （对已有的异步网卡驱动进行板子上的移植）
    + 4.22 - 4.23：板子上 完成 异步网卡驱动对 Alien 进行适配
+ 4.24 - 4.30：
    + 4.24 ：板子上 完成 异步网卡驱动对 ArceOS 进行适配
    + 4.25 - 4.26： 板子上 完成异步网卡驱动 对 Linux 的适配
    + 4.27：机动日
    + 4.28-4.30：异步网卡驱动相关的测试工作



+ [ ] 完成异步串口驱动的异步运行时改造 （2 days）
+ [ ] 在 Qemu 中完成异步串口驱动对 Alien 的适配 （1 day）
+ [ ] 在 Qemu 中完成异步串口驱动对 ArceOS 的适配 （2 days）
+ [ ] Qemu 环境下测试异步串口驱动性能（1 day）
+ [ ] 上板测试异步串口驱动 （2-3 days）
+ [ ] 能在板子上干活的异步网卡驱动（3 days）
    + 参照已有的异步网卡驱动实现，移植到相关的板子上
+ [ ] 板子上对 Alien 适配 异步网卡驱动（1-2 days）
+ [ ] 板子上对 ArceOS 适配 异步网卡驱动(1-2 days)
+ [ ] 板子上对 Linux 适配异步网卡驱动 (2-3 days)
+ [ ] 性能测试工作 （3 days）

